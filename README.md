# backyard_lite
弔图存档lite，访问主页[https://umas2022.github.io/backyard/](https://umas2022.github.io/backyard/)


### 简介
- 沙雕图存档 & 表情包速查
- 此项目仅存放前端页面代码, 静态资源在这里[https://github.com/umas2022/backyard_store](https://github.com/umas2022/backyard_store)


### 修改tag
- 左侧设置打开【编辑tag】, 对于要修改tag的图片，首先点击图片激活编辑模式, 编辑完成后再点击图片锁定编辑, 所有tag都编辑完成后, 点击右上角【保存修改】按钮, 将保存的json文件交给后端处理
- 右侧tag快捷栏的使用: 点击【Add New Tag】按钮, 激活输入框之后再点击右边tag, 可以直接填入输入框
- 因为新增tag的每一个输入框都和右侧tag快捷栏绑定, 所以如果每张图片的输入框都在激活状态的话, 点击右侧tag将会给所有输入框赋值, 所以保证只有一个输入框被激活。(等有时间加个判断) 


### 待办
- **P0（严重的功能性bug）**
  - 无
- **P1（不影响使用但可能睡不着觉）**
  - tag计数,(补全/修改少数tag/主页tag按数量排序)
  - 性能优化：图片懒加载
  - 性能优化：用showone中新改的查询字符串形式修改showall，取消show_list在store中的全局共享
- **P2（想要这个功能，但不想做这个功能）**
  - 返回顶部按钮
  - 图片删除后重新排序（后端）
  - 单张图片加载时也需要一个loading动画
  - 增加tag时没有判断是否已存在
  - 后端连接失败时要有一个重试,或者首页先ping一下
  - loading页添加动画样式
  - 只有页内点击上一页/下一页时有做动效，左侧导航切换时没有动效
  - 编辑tag非常的卡，想想办法
- **P3（问题不大，先放着）**
  - 右侧预设tag栏宽度手动调整
  - 没必要的文本禁用选中，比如tag
  - 参数写进cookie
  - 图片跑一遍压缩脚本,有些图太大了
  - 搜索结果没有做翻页（但目前也不会搜到很多结果）
  - 图片应该用固定像素值设定宽度,这样可以用ctrl+鼠标滚轮来调整大小。另外有些图本身尺寸非常小,如果搜索结果只有它一个的话会非常小
  - 显示图片详细信息,如分辨率,大小,视频时长
  - 一个小问题，自从图片从本地改为改云端获取，每次添加新的表情包都要先push原图才能在页面上修改，修改完成之后还需要一次push
  - 单张图片点击放大
- **P99（有缘再会）**
  - 做一个正经后端
  - 账号点赞评论（参考jekyll）
  - tag列表喂给chatgpt把近义词合并一下←搞一个脚本
  - 首页还是有点卡（firefox很流畅，奇怪了）
  - 编辑tag，搞一个提示词系统
  - 研究一下git lfs
  - 夜间模式(src/components/DevPage_DarkMode.vue)
  - 电脑配件项目里的图片查重功能需要继续优化



### 更新记录
- 2023.11.15: 修复翻页图片没有更新，用查询字符串的形式替代原store共享；修复：【编辑tag，右侧点击后要能自动清除，不然后面全都自动填入了】
- 2023.10.21: 首页性能优化，左侧导航按钮写成组件方便统一管理，尽量使用了transform来替代宽度的变化，减少了页面重绘，微调了竖屏时的按钮（经过这次优化，首页卡顿有明显改善，但还不完美）顺便修复了视频不能翻页的问题
- 2023.10.06(懒得写版本了): 更新了背景图片的生成逻辑，华为平板的问题应该解决了（确实解决了）；看图模式新增show_all，倒序展示，连续滚动；调整了文件结构，目前还差【搜索结果页】【单组显示页】没有整合，晚上回去看看接着搞。←搞完了，项目结终于构规范化了。顺便解决了：【搜索结果点击左上角返回主页；图片序号拼接错误:10+1=101；翻页时候底部会显示滚动条】
- 2023.08.25(v0.2.6): 简单调整了一下竖屏时的样式，手机现在勉强能用了（但华为平板还是错位）
- 2023.07.19(v0.2.5): fix: 左侧更新记录超出显示范围; fix: 搜索结果回退按钮不能生效
- 2023.07.13(v0.2.4): 使用hash路由，解决show页刷新404，以及修正了一些小bug
- 2023.07.10(v0.2.3): 图片查重转到电脑配件；侧边导航翻页增加动效；修复翻页后tag没有更新问题（用computed）；侧边导航加宽
- 2023.06.24(v0.2.2): 图片查重（后端功能）
- 2023.06.24(v0.2.2): 单页拆分；翻页动画；键盘方向键控制翻页
- 2023.06.14(v0.2.1): 增加视频区
- 2023.06.13(v0.2.0): 项目拆分,静态资源单独放一个项目,github.io只存放页面代码
- 2023.06.10(v0.1.1): 极简ui,极致流畅
- 2023.05.09(v0.1.0): vue重构
- 2023.04.26(v0.0.0): 增加表情包分区,表情包pack1-10,增加前端的tag显示和修改,本地tag批量修改脚本
- 2023.04.19(v0.0.0): 创建项目(单html),沙雕图pack1-72


### 备忘
- 只在HomeView.vue里访问后端一次,其他组件都从这里inject



